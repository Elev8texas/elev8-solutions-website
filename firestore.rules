rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow public writes to contacts collection (for form submissions)
    // But only allow reads for authenticated users
    match /contacts/{document} {
      allow create: if true; // Anyone can submit contact forms
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Allow public writes to quotes collection (for quote requests)
    match /quotes/{document} {
      allow create: if true; // Anyone can submit quote requests
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Allow public writes to bundle selections
    match /bundle-selections/{document} {
      allow create: if true; // Anyone can select bundles
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Allow public writes to service bookings
    match /service-bookings/{document} {
      allow create: if true; // Anyone can book services
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Allow public writes to Emails collection (for popup email collection)
    match /Emails/{document} {
      allow create: if true; // Anyone can submit emails
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Allow public writes to client-profiles collection (for organized client data)
    match /client-profiles/{document} {
      allow create: if true; // Anyone can create client profiles
      allow read, update, delete: if false; // Only backend functions can read/modify
    }
    
    // Deny all other operations by default
    match /{document=**} {
      allow read, write: if false;
    }
  }
} 